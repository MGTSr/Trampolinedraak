!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.serverInfo={SERVER_IP:"https://trampolinedraak.herokuapp.com",socket:null,server:null,roomCode:"",vip:!1,rank:-1,playerCount:-1,timer:0,drawing:null,guesses:null,finalGuessResults:null,finalScores:null,gameLoading:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.playerColors=["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080","#000000"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.gameTimer=function(e){e.timer>0?(e.timer-=e.game.time.elapsed/1e3,e.timerText.text=Math.ceil(e.timer)):e.timerText.text="Time's up!"},t.controllerTimer=function(e,t,n){t.vip&&(e.timer>0?e.timer-=e.game.time.elapsed/1e3:t.socket.emit("timer-complete",{nextState:n}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){t.gameLoading&&(e.emit("finished-loading",{}),t.gameLoading=!1)};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(e,t,n,r,i){if(e.cache.checkKey(Phaser.Cache.IMAGE,r))(0,o.default)(e,t,n,r);else{var a=new Phaser.Loader(e);a.image(r,i+""),a.onLoadComplete.addOnce(o.default,void 0,0,e,t,n,r),a.start()}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(1),a=function(e,t,n){e.on("player-done",function(e){console.log("Player done ("+e.name+")");var r=e.rank/n.playerCount*2*Math.PI,a=.5*t.height/1.3,u=.5*t.width,s=.66*Math.min(a,u);(0,o.default)(t,.5*t.width+Math.cos(r)*s,.5*t.height+Math.sin(r)*s*1.3,i.playerColors[e.rank],e)}),e.on("next-state",function(e){n.timer=e.timer,t.state.start("Game"+e.nextState)}),e.on("return-drawing",function(e){n.drawing=e}),e.on("force-disconnect",function(t){e.disconnect(!0),window.location.reload(!1)})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(e,t,n,r,i){var a={font:"bold 32px Arial",fill:r};if(e.add.text(t,n,i.name,a).anchor.setTo(0,.5),null!=i.profile){var u=i.profile,s="profileImage"+i.name;(0,o.default)(e,{x:t-100,y:n},{width:60,height:78},s,u)}};t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(n(8),n(9)),s=r(u),l=n(11),c=r(l),f=n(12),d=r(f),p=n(13),h=r(p),m=n(14),y=r(m),v=n(15),b=r(v),g=n(16),w=r(g),_=n(17),O=r(_),E=n(18),P=r(E),I=n(20),k=r(I),j=n(21),T=r(j),x=n(22),C=r(x),M=n(23),S=r(M),L=n(24),R=r(L),H=n(25),G=r(H),B=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"100%","100%",Phaser.AUTO,"canvas-container"));return e.state.add("Menu",s.default),e.state.add("GameWaiting",c.default),e.state.add("GameSuggestions",d.default),e.state.add("GameDrawing",h.default),e.state.add("GameGuessing",y.default),e.state.add("GameGuessingPick",b.default),e.state.add("GameGuessingResults",w.default),e.state.add("GameOver",O.default),e.state.add("ControllerWaiting",P.default),e.state.add("ControllerSuggestions",k.default),e.state.add("ControllerDrawing",T.default),e.state.add("ControllerGuessing",C.default),e.state.add("ControllerGuessingPick",S.default),e.state.add("ControllerGuessingResults",R.default),e.state.add("ControllerOver",G.default),e.state.start("Menu"),e}return a(t,e),t}(Phaser.Game),W=new B;Element.prototype.remove=function(){this.parentElement.removeChild(this)},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var e=this.length-1;e>=0;e--)this[e]&&this[e].parentElement&&this[e].parentElement.removeChild(this[e])},t.default=W},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WINDOW_WIDTH=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t.WINDOW_HEIGHT=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,t.WORLD_SIZE={width:1600,height:1200},t.ASSETS_URL="../assets"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=n(5),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){this.game.load.crossOrigin="Anonymous",this.game.stage.backgroundColor="#EEEEEE",this.game.stage.disableVisibilityChange=!0}},{key:"create",value:function(){console.log("Menu state");var e=this.game;document.getElementById("createRoomBtn").onclick=function(){this.disabled=!0,u.serverInfo.socket=io(u.serverInfo.SERVER_IP);var t=u.serverInfo.socket;t.on("connect",function(){document.getElementById("err-message").innerHTML="Creating room ...",t.emit("new-room",{})}),t.on("room-created",function(t){u.serverInfo.roomCode=t.roomCode,document.getElementById("main").style.display="none",e.state.start("GameWaiting")})},document.getElementById("joinRoomBtn").onclick=function(){var t=this;t.disabled=!0;var n=document.getElementsByClassName("joinInput"),r=n[0].value.toUpperCase(),o=n[1].value.toUpperCase();console.log(r+" || "+o),u.serverInfo.socket=io(u.serverInfo.SERVER_IP);var i=u.serverInfo.socket;i.on("connect",function(){document.getElementById("err-message").innerHTML="Joining ...",i.emit("join-room",{roomCode:r,userName:o})}),i.on("join-response",function(n){n.success?(document.getElementById("main").style.display="none",u.serverInfo.vip=n.vip,u.serverInfo.roomCode=r,u.serverInfo.rank=n.rank,e.state.start("ControllerWaiting")):(document.getElementById("err-message").innerHTML=n.err,t.disabled=!1,i.disconnect(!0))})},document.getElementById("watchRoomBtn").onclick=function(){var t=this;if(!t.disabled){t.disabled=!0;var n=document.getElementsByClassName("joinInput")[2].value.toUpperCase();u.serverInfo.socket=io(u.serverInfo.SERVER_IP);var r=u.serverInfo.socket;r.on("connect",function(){document.getElementById("err-message").innerHTML="Loading room ...",r.emit("watch-room",{roomCode:n})}),r.on("watch-response",function(n){if(n.success){document.getElementById("main").style.display="none",(0,l.default)(r,e,u.serverInfo),u.serverInfo.timer=n.timer;var o=n.preSignal;u.serverInfo[o[0]]=o[1],u.serverInfo.gameLoading=!0,e.state.start("Game"+n.gameState)}else document.getElementById("err-message").innerHTML=n.err,t.disabled=!1,r.disconnect(!0)})}}}},{key:"update",value:function(){}}]),t}(Phaser.State);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n,r){var o=e.add.sprite(t.x,t.y,r);o.width=n.width,o.height=n.height,o.anchor.setTo(.5,.5)};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=n(4),c=r(l),f=n(1),d=n(6),p=(r(d),n(5)),h=r(p),m=n(3),y=r(m),v=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),u(t,[{key:"preload",value:function(){var e=this.game;e.scale.scaleMode=Phaser.ScaleManager.RESIZE,window.addEventListener("resize",function(){e.scale.refresh()}),e.scale.refresh()}},{key:"create",value:function(){var e=this.game,t={font:"bold 32px Arial",fill:"#333"};e.add.text(.5*e.width,20,"ROOM: "+s.serverInfo.roomCode,t).anchor.setTo(.5,0);var n={font:"bold 32px Arial",fill:"#666"};e.add.text(.5*e.width,60,"Players can now join the game!",n).anchor.setTo(.5,0);var r=s.serverInfo.socket;r.on("new-player",function(n){t={font:"bold 32px Arial",fill:f.playerColors[n.rank]};var r=.5*e.width,o=120+60*n.rank;e.add.text(r,o,n.name,t).anchor.setTo(0,.5)}),r.on("player-updated-profile",function(t){if(null!=t.profile){var n=t.profile,r="profileImage"+t.name,o=.5*e.width,i=120+60*t.rank;(0,c.default)(e,{x:o-100,y:i},{width:60,height:78},r,n)}}),r.on("setup-info",function(e){s.serverInfo.playerCount=e}),(0,h.default)(r,e,s.serverInfo),(0,y.default)(r,s.serverInfo),console.log("Game waiting state")}},{key:"shutdown",value:function(){var e=s.serverInfo.socket;e.off("new-player"),e.off("player-updated-profile"),e.off("setup-info")}},{key:"update",value:function(){}}]),t}(Phaser.State);t.default=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=n(2),l=(n(1),n(3)),c=function(e){return e&&e.__esModule?e:{default:e}}(l),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=u.serverInfo.socket,n={font:"bold 32px Arial",fill:"#333",wordWrap:!0,wordWrapWidth:.8*e.width};e.add.text(.5*e.width,20,"Look at your screen. Fill in the suggestions and submit!",n).anchor.setTo(.5,0),this.timerText=e.add.text(.5*e.width,.5*e.height,"",n),this.timer=u.serverInfo.timer,(0,c.default)(t,u.serverInfo),console.log("Game Suggestions state")}},{key:"shutdown",value:function(){}},{key:"update",value:function(){(0,s.gameTimer)(this)}}]),t}(Phaser.State);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=n(4),c=(r(l),n(2)),f=(n(1),n(3)),d=r(f),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),u(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=s.serverInfo.socket,n={font:"bold 32px Arial",fill:"#333",wordWrap:!0,wordWrapWidth:.8*e.width};e.add.text(.5*e.width,20,"Draw the suggestion shown on your screen!",n).anchor.setTo(.5,0),this.timerText=e.add.text(.5*e.width,.5*e.height,"",n),this.timer=s.serverInfo.timer,(0,d.default)(t,s.serverInfo),console.log("Game Drawing state")}},{key:"shutdown",value:function(){}},{key:"update",value:function(){(0,c.gameTimer)(this)}}]),t}(Phaser.State);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=n(4),c=r(l),f=n(2),d=(n(1),n(3)),p=r(d),h=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),u(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=s.serverInfo.socket,n={font:"bold 32px Arial",fill:"#333"};e.add.text(.5*e.width,20,"What do you think this drawing represents?",n).anchor.setTo(.5,0);var r=.5*e.height/1.3,o=.5*e.width,i=Math.min(r,o),a="finalImage"+s.serverInfo.drawing.name,u=s.serverInfo.drawing.dataURI;(0,c.default)(e,{x:.5*e.width,y:.5*e.height},{width:i,height:1.3*i},a,u),this.timerText=e.add.text(.5*e.width,60,"",n),this.timer=s.serverInfo.timer,t.on("return-guesses",function(e){s.serverInfo.guesses=e}),(0,p.default)(t,s.serverInfo),console.log("Game Guessing state")}},{key:"shutdown",value:function(){s.serverInfo.socket.off("return-guesses")}},{key:"update",value:function(){(0,f.gameTimer)(this)}}]),t}(Phaser.State);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=n(4),c=r(l),f=n(2),d=(n(1),n(3)),p=r(d),h=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),u(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=s.serverInfo.socket,n={font:"bold 32px Arial",fill:"#333"};e.add.text(.5*e.width,20,"Hmm, which one is the correct title?",n).anchor.setTo(.5,0);var r=.5*e.height/1.3,o=.5*e.width,i=Math.min(r,o),a="finalImage"+s.serverInfo.drawing.name,u=s.serverInfo.drawing.dataURI;(0,c.default)(e,{x:.5*e.width,y:.5*e.height},{width:i,height:1.3*i},a,u);for(var l=s.serverInfo.guesses,f=0;f<l.length;f++){var d=f/l.length*2*Math.PI;e.add.text(.5*e.width+Math.cos(d)*i,.5*e.height+Math.sin(d)*i*1.3,l[f],n).anchor.setTo(.5,.5)}this.timerText=e.add.text(.5*e.width,60,"",n),this.timer=s.serverInfo.timer,t.on("final-guess-results",function(e){s.serverInfo.finalGuessResults=e}),(0,p.default)(t,s.serverInfo),console.log("Game Guessing Pick state")}},{key:"shutdown",value:function(){s.serverInfo.socket.off("final-guess-results")}},{key:"update",value:function(){(0,f.gameTimer)(this)}}]),t}(Phaser.State);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=n(4),c=r(l),f=(n(1),n(3)),d=r(f),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),u(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=s.serverInfo.socket,n={font:"bold 32px Arial",fill:"#333"};e.add.text(.5*e.width,20,"Let's see how you did!",n).anchor.setTo(.5,0);var r=.5*e.height/1.3,o=.5*e.width,i=Math.min(r,o),a="finalImage"+s.serverInfo.drawing.name,u=s.serverInfo.drawing.dataURI;(0,c.default)(e,{x:.5*e.width,y:.5*e.height},{width:i,height:1.3*i},a,u);var l=s.serverInfo.finalGuessResults;console.log(l);var f=0;for(var p in l){n={font:"bold 32px Arial",fill:"#333"},l[p].correct&&(n.fill="#237a23");e.add.text(.5*e.width,80+80*f,p,n).anchor.setTo(.5,.5),n={font:"16px Arial",fill:"#333"};if(e.add.text(.5*e.width,80+80*f+32,"Guessed by: "+l[p].whoGuessedIt.join(", "),n).anchor.setTo(.5,.5),!l[p].correct){n={font:"16px Arial",fill:"#333"};e.add.text(.5*e.width,80+80*f+50,"Written by: "+l[p].name,n).anchor.setTo(.5,.5)}f++}t.on("final-scores",function(e){s.serverInfo.finalScores=e}),(0,d.default)(t,s.serverInfo),console.log("Game Guessing Results state")}},{key:"shutdown",value:function(){s.serverInfo.socket.off("final-scores")}},{key:"update",value:function(){}}]),t}(Phaser.State);t.default=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=n(1),l=n(3),c=function(e){return e&&e.__esModule?e:{default:e}}(l),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=u.serverInfo.socket,n={font:"bold 32px Arial",fill:"#333"};e.add.text(.5*e.width,20,"FINAL SCORE",n).anchor.setTo(.5,0);for(var r=u.serverInfo.finalScores,o=Object.keys(r).sort(function(e,t){return r[t].score-r[e].score}),i=0,a=0;a<o.length;a++){var l=r[o[a]];n.fill=s.playerColors[l.rank];e.add.text(.5*e.width,80+40*i,"Player: "+l.name+" | Score: "+l.score,n).anchor.setTo(.5,.5),i++}(0,c.default)(t,u.serverInfo),console.log("Game Over state")}},{key:"update",value:function(){}}]),t}(Phaser.State);t.default=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=n(1),l=n(19),c=function(e){return e&&e.__esModule?e:{default:e}}(l),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=u.serverInfo.socket,n=document.getElementById("main-controller"),r=document.createElement("p");r.innerHTML="Draw yourself a profile pic!",n.appendChild(r);var o=document.getElementById("canvas-container");n.appendChild(o);var i=document.getElementById("main-controller").clientWidth-50,a=1.3*i;e.scale.setGameSize(i,a),this.bmd=e.add.bitmapData(e.width,e.height),this.bmd.ctx.strokeStyle=s.playerColors[u.serverInfo.rank],this.bmd.ctx.lineWidth=10,this.bmd.ctx.lineCap="round",this.bmd.ctx.fillStyle="#ff0000",this.sprite=e.add.sprite(0,0,this.bmd),this.bmd.isDragging=!1,this.bmd.lastPoint=null;var l=this.bmd,f=document.createElement("button");if(f.innerHTML="Submit drawing",f.addEventListener("click",function(e){var n=l.canvas.toDataURL();t.emit("submit-drawing",{dataURI:n,type:"profile"}),f.remove(),o.style.display="none",u.serverInfo.vip||(r.innerHTML="Waiting for game to start ...")}),n.appendChild(f),u.serverInfo.vip){var d=document.createElement("p");d.innerHTML="You are VIP. Start the game when you're ready.",n.appendChild(d);var p=document.createElement("button");p.innerHTML="START GAME",p.addEventListener("click",function(e){p.disabled||(p.disabled=!0,t.emit("start-game",{}))}),n.appendChild(p)}(0,c.default)(t,e,u.serverInfo),console.log("Controller Waiting state")}},{key:"update",value:function(){if(this.game.input.activePointer.isUp&&(this.bmd.isDragging=!1,this.bmd.lastPoint=null),this.game.input.activePointer.isDown){this.bmd.isDragging=!0,this.bmd.ctx.beginPath();var e=new Phaser.Point(this.game.input.x,this.game.input.y);this.bmd.lastPoint&&(this.bmd.ctx.moveTo(this.bmd.lastPoint.x,this.bmd.lastPoint.y),this.bmd.ctx.lineTo(e.x,e.y)),this.bmd.lastPoint=e,this.bmd.ctx.stroke(),this.bmd.dirty=!0}}}]),t}(Phaser.State);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){e.on("next-state",function(e){n.timer=e.timer;var r=document.getElementById("canvas-container");r.style.display="none",document.body.appendChild(r),document.getElementById("main-controller").innerHTML="",t.state.start("Controller"+e.nextState)}),e.on("return-drawing",function(e){n.drawing=e}),e.on("force-disconnect",function(t){e.disconnect(!0),window.location.reload(!1)})};t.default=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=n(2),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=(this.game,u.serverInfo.socket),t=document.getElementById("main-controller"),n=(document.getElementById("canvas-container"),document.createElement("p"));n.innerHTML="Please give me a noun, verb, adjective and adverbial clause (in that order)",t.appendChild(n);var r=document.createElement("input");r.type="text",r.placeholder="noun (e.g. elephant, tables, etc.)",t.appendChild(r);var o=document.createElement("input");o.type="text",o.placeholder="verb with -ing (e.g. swimming)",t.appendChild(o);var i=document.createElement("input");i.type="text",i.placeholder="adjective (e.g. beautiful)",t.appendChild(i);var a=document.createElement("input");a.type="text",a.placeholder="adverb (e.g. carefully, to the beach, while sleeping, etc.)",t.appendChild(a);var s=document.createElement("button");s.innerHTML="Submit",s.addEventListener("click",function(t){for(var u=[r.value.toLowerCase(),o.value.toLowerCase(),i.value.toLowerCase(),a.value.toLowerCase()],l=0;l<u.length;l++)if(""==u[l]||u[l].length<1)return;e.emit("submit-suggestion",{suggestion:u}),r.remove(),o.remove(),i.remove(),a.remove(),s.remove(),n.innerHTML="Thanks for your suggestions!"}),t.appendChild(s),this.timer=u.serverInfo.timer,e.on("drawing-title",function(e){u.serverInfo.drawingTitle=e.title}),console.log("Controller Suggestions state")}},{key:"shutdown",value:function(){u.serverInfo.socket.off("drawing-title")}},{key:"update",value:function(){(0,s.controllerTimer)(this,u.serverInfo,"Drawing")}}]),t}(Phaser.State);t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=n(2),l=n(1),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=u.serverInfo.socket,n=document.getElementById("main-controller"),r=!1,o=document.createElement("p");o.innerHTML='Draw this: <span class="titleSuggestion">'+u.serverInfo.drawingTitle+"</span>",n.appendChild(o);var i=document.getElementById("canvas-container");i.style.display="block",n.appendChild(i);var a=document.getElementById("main-controller").clientWidth-50,s=1.3*a;e.scale.setGameSize(a,s),this.bmd=e.add.bitmapData(e.width,e.height),this.bmd.ctx.strokeStyle=l.playerColors[u.serverInfo.rank],this.bmd.ctx.lineWidth=10,this.bmd.ctx.lineCap="round",this.bmd.ctx.fillStyle="#ff0000",this.sprite=e.add.sprite(0,0,this.bmd),this.bmd.isDragging=!1,this.bmd.lastPoint=null;var c=this.bmd,f=document.createElement("button");f.innerHTML="Submit drawing",f.addEventListener("click",function(e){f.remove();var n=c.canvas.toDataURL();t.emit("submit-drawing",{dataURI:n,type:"ingame"}),i.style.display="none",o.innerHTML="That drawing is ... let's say, something special.",r=!0}),n.appendChild(f);var d=document.createElement("p");d.innerHTML="Create your best art! Do it! Do it now!",n.appendChild(d),t.on("fetch-drawing",function(e){if(!r){var n=c.canvas.toDataURL();t.emit("submit-drawing",{dataURI:n,type:"ingame"}),r=!0}}),this.timer=u.serverInfo.timer,console.log("Controller Drawing state")}},{key:"shutdown",value:function(){u.serverInfo.socket.off("fetch-drawing")}},{key:"update",value:function(){if(this.game.input.activePointer.isUp&&(this.bmd.isDragging=!1,this.bmd.lastPoint=null),this.game.input.activePointer.isDown){this.bmd.isDragging=!0,this.bmd.ctx.beginPath();var e=new Phaser.Point(this.game.input.x,this.game.input.y);this.bmd.lastPoint&&(this.bmd.ctx.moveTo(this.bmd.lastPoint.x,this.bmd.lastPoint.y),this.bmd.ctx.lineTo(e.x,e.y)),this.bmd.lastPoint=e,this.bmd.ctx.stroke(),this.bmd.dirty=!0}(0,s.controllerTimer)(this,u.serverInfo,"Guessing")}}]),t}(Phaser.State);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=n(2),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=(this.game,u.serverInfo.socket),t=document.getElementById("main-controller"),n=(document.getElementById("canvas-container"),null);if(u.serverInfo.drawing.id==e.id)n=document.createElement("p"),n.innerHTML="This is your drawing. I hope you're happy with yourself.",t.appendChild(n);else{n=document.createElement("p"),n.innerHTML="What do you think this drawing means?",t.appendChild(n);var r=document.createElement("input");r.type="text",r.placeholder="your guess ...",t.appendChild(r);var o=document.createElement("button");o.innerHTML="Submit guess",o.addEventListener("click",function(t){e.emit("submit-guess",r.value),o.remove(),r.remove(),n.innerHTML="Wow ... you're so creative!"}),t.appendChild(o)}e.on("guess-already-exists",function(r){n.innerHTML='<span id="err-message">Oh no! Your guess already exists (or you guessed the correct title immediately)! Try something else.</span>';var o=document.createElement("input");o.type="text",o.placeholder="your guess ...",t.appendChild(o);var i=document.createElement("button");i.innerHTML="Submit guess",i.addEventListener("click",function(t){e.emit("submit-guess",o.value),i.remove(),o.remove(),n.innerHTML="Wow ... you're so creative!"}),t.appendChild(i)}),this.timer=u.serverInfo.timer,e.on("return-guesses",function(e){u.serverInfo.guesses=e}),console.log("Controller Guessing state")}},{key:"shutdown",value:function(){u.serverInfo.socket.off("guess-already-exists"),u.serverInfo.socket.off("return-guesses")}},{key:"update",value:function(){(0,s.controllerTimer)(this,u.serverInfo,"GuessingPick")}}]),t}(Phaser.State);t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=n(2),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=(this.game,u.serverInfo.socket),t=document.getElementById("main-controller"),n=(document.getElementById("canvas-container"),u.serverInfo.guesses);if(u.serverInfo.drawing.id==e.id){var r=document.createElement("p");r.innerHTML="Still your drawing. Sit back and relax.",t.appendChild(r)}else!function(){var r=document.createElement("p");r.innerHTML="Which of these do you think is the correct title?",t.appendChild(r);var o=document.createElement("span");t.appendChild(o);for(var i=0;i<n.length;i++)!function(t){var i=document.createElement("button"),a=n[t];i.innerHTML=a,i.value=a,i.addEventListener("click",function(t){e.emit("vote-guess",a),r.innerHTML="Really? You think it's that?!",o.remove()}),o.appendChild(i)}(i)}();this.timer=u.serverInfo.timer,console.log("Controller Guessing Pick state")}},{key:"update",value:function(){(0,s.controllerTimer)(this,u.serverInfo,"GuessingResults")}}]),t}(Phaser.State);t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=(this.game,u.serverInfo.socket),t=document.getElementById("main-controller");document.getElementById("canvas-container");if(u.serverInfo.vip)if(u.serverInfo.drawing.lastDrawing){var n=document.createElement("p");n.innerHTML="That was it for this round! At the game over screen, you can play another round or stop the game.",t.appendChild(n);var r=document.createElement("button");r.innerHTML="Go to game over",r.addEventListener("click",function(t){e.emit("timer-complete",{nextState:"Over",certain:!0})}),t.appendChild(r)}else{var o=document.createElement("p");o.innerHTML="Tap the button below whenever you want to start the next drawing",t.appendChild(o);var i=document.createElement("button");i.innerHTML="Load next drawing!",i.addEventListener("click",function(t){e.emit("timer-complete",{nextState:"Guessing",certain:!0})}),t.appendChild(i)}else{var a=document.createElement("p");a.innerHTML="That was it for this round! Please wait for the VIP to start the next round.",t.appendChild(a)}console.log("Controller Guessing Results state")}},{key:"update",value:function(){}}]),t}(Phaser.State);t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=(this.game,u.serverInfo.socket),t=document.getElementById("main-controller"),n=(document.getElementById("canvas-container"),document.createElement("p"));if(n.innerHTML="Are you happy with your score? If not, TOO BAD.",t.appendChild(n),u.serverInfo.vip){var r=document.createElement("p");r.innerHTML="You can either start the next round (same room, same players, you keep your score), or end the game.",t.appendChild(r);var o=document.createElement("button");o.innerHTML="Start next round!",o.addEventListener("click",function(t){e.emit("timer-complete",{nextState:"Suggestions",certain:!0})}),t.appendChild(o);var i=document.createElement("button");i.innerHTML="Destroy the game!",i.addEventListener("click",function(t){e.emit("destroy-game",{})}),t.appendChild(i)}console.log("Controller Over state")}},{key:"update",value:function(){}}]),t}(Phaser.State);t.default=s}]);