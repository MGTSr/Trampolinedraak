!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.serverInfo={SERVER_IP:"https://trampolinedraak.herokuapp.com",socket:null,server:null,roomCode:"",vip:!1,timer:0,drawing:null,guesses:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(e,t,n,r,i){if(e.cache.checkKey(Phaser.Cache.IMAGE,r))(0,o.default)(e,t,n,r);else{var a=new Phaser.Loader(e);a.image(r,i+""),a.onLoadComplete.addOnce(o.default,void 0,0,e,t,n,r),a.start()}};t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=(n(3),n(4)),u=r(s),l=n(5),c=r(l),f=n(7),d=r(f),p=n(8),h=r(p),m=n(9),y=r(m),b=n(10),v=r(b),g=n(11),w=r(g),_=n(12),O=r(_),P=n(13),E=r(P),k=n(14),j=r(k),I=n(15),x=r(I),T=n(16),C=r(T),M=n(17),S=r(M),L=n(18),G=r(L),R=n(19),H=r(R),W=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"100%","100%",Phaser.AUTO,"canvas-container"));return e.state.add("Menu",u.default),e.state.add("GameWaiting",c.default),e.state.add("GameSuggestions",d.default),e.state.add("GameDrawing",h.default),e.state.add("GameGuessing",y.default),e.state.add("GameGuessingPick",v.default),e.state.add("GameGuessingResults",w.default),e.state.add("GameOver",O.default),e.state.add("ControllerWaiting",E.default),e.state.add("ControllerSuggestions",j.default),e.state.add("ControllerDrawing",x.default),e.state.add("ControllerGuessing",C.default),e.state.add("ControllerGuessingPick",S.default),e.state.add("ControllerGuessingResults",G.default),e.state.add("ControllerOver",H.default),e.state.start("Menu"),e}return a(t,e),t}(Phaser.Game),B=new W;Element.prototype.remove=function(){this.parentElement.removeChild(this)},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var e=this.length-1;e>=0;e--)this[e]&&this[e].parentElement&&this[e].parentElement.removeChild(this[e])},t.default=B},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WINDOW_WIDTH=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t.WINDOW_HEIGHT=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,t.WORLD_SIZE={width:1600,height:1200},t.ASSETS_URL="../assets"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){this.game.load.crossOrigin="Anonymous",this.game.stage.backgroundColor="#EEEEEE",this.game.stage.disableVisibilityChange=!0}},{key:"create",value:function(){console.log("Menu state");var e=this.game;document.getElementById("createRoomBtn").onclick=function(){this.disabled=!0,s.serverInfo.socket=io(s.serverInfo.SERVER_IP);var t=s.serverInfo.socket;t.on("connect",function(){t.emit("new-room",{})}),t.on("room-created",function(t){s.serverInfo.roomCode=t.roomCode,document.getElementById("main").style.display="none",e.state.start("GameWaiting")})},document.getElementById("joinRoomBtn").onclick=function(){var t=this;t.disabled=!0;var n=document.getElementsByClassName("joinInput"),r=n[0].value.toUpperCase(),o=n[1].value.toUpperCase();console.log(r+" || "+o),s.serverInfo.socket=io(s.serverInfo.SERVER_IP);var i=s.serverInfo.socket;i.on("connect",function(){i.emit("join-room",{roomCode:r,userName:o})}),i.on("join-response",function(n){n.success?(document.getElementById("main").style.display="none",s.serverInfo.vip=n.vip,s.serverInfo.roomCode=r,e.state.start("ControllerWaiting")):(document.getElementById("err-message").innerHTML=n.err,t.disabled=!1,i.disconnect(!0))})},document.getElementById("watchRoomBtn").onclick=function(){var t=this;t.disabled=!0;var n=document.getElementsByClassName("joinInput")[2].value.toUpperCase();s.serverInfo.socket=io(s.serverInfo.SERVER_IP);var r=s.serverInfo.socket;r.on("connect",function(){r.emit("watch-room",{roomCode:n})}),r.on("watch-response",function(n){n.success?(document.getElementById("overlay").remove(),e.state.start("Game")):(document.getElementById("err-message").innerHTML=n.err,t.disabled=!1,r.disconnect(!0))})}}},{key:"update",value:function(){}}]),t}(Phaser.State);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080","#000000"],t=this.game;t.scale.scaleMode=Phaser.ScaleManager.RESIZE,window.addEventListener("resize",function(){t.scale.refresh()}),t.scale.refresh();var n={font:"bold 32px Arial",fill:"#333"};t.add.text(.5*t.width,20,"ROOM: "+s.serverInfo.roomCode,n).anchor.setTo(.5,0);var r=s.serverInfo.socket;r.on("new-player",function(r){n={font:"bold 32px Arial",fill:e[r.rank]};var o=.5*t.width,i=80+60*r.rank;t.add.text(o,i,r.name,n).anchor.setTo(0,.5)}),r.on("player-updated-profile",function(e){if(null!=e.profile){var n=e.profile,r="profileImage"+e.name,o=.5*t.width,i=80+60*e.rank;(0,l.default)(t,{x:o-100,y:i},{width:60,height:78},r,n)}}),r.on("next-state",function(e){s.serverInfo.timer=e.timer,t.state.start("GameSuggestions")}),console.log("Game waiting state")}},{key:"update",value:function(){}}]),t}(Phaser.State);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n,r){var o=e.add.sprite(t.x,t.y,r);o.width=n.width,o.height=n.height,o.anchor.setTo(.5,.5)};t.default=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=s.serverInfo.socket,n={font:"bold 32px Arial",fill:"#333",wordWrap:!0,wordWrapWidth:.8*e.width};e.add.text(.5*e.width,20,"Please submit as many suggestions as you can!",n).anchor.setTo(.5,0),this.timerText=e.add.text(.5*e.width,.5*e.height,"",n),this.timer=s.serverInfo.timer,console.log("Game Suggestions state"),t.on("next-state",function(t){s.serverInfo.timer=t.timer,e.state.start("GameDrawing")})}},{key:"update",value:function(){this.timer>0?(this.timer-=this.game.time.elapsed/1e3,this.timerText.text=Math.ceil(this.timer)):this.timerText.text="Time's up!"}}]),t}(Phaser.State);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this,t=this.game,n=s.serverInfo.socket,r=["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080","#000000"],o={font:"bold 32px Arial",fill:"#333",wordWrap:!0,wordWrapWidth:.8*t.width};t.add.text(.5*t.width,20,"Draw the suggestion shown on your screen!",o).anchor.setTo(.5,0),this.timerText=t.add.text(.5*t.width,.5*t.height,"",o),this.timer=s.serverInfo.timer;var i=0;n.on("player-done",function(n){e.loadPlayerVisuals(t,.5*t.width,80+60*i,r[i],n),i++}),n.on("return-drawing",function(e){s.serverInfo.drawing=e}),n.on("next-state",function(e){s.serverInfo.timer=e.timer,t.state.start("GameGuessing")}),console.log("Game Drawing state")}},{key:"update",value:function(){this.timer>0?(this.timer-=this.game.time.elapsed/1e3,this.timerText.text=Math.ceil(this.timer)):this.timerText.text="Time's up!"}},{key:"loadPlayerVisuals",value:function(e,t,n,r,o){var i={font:"bold 32px Arial",fill:r};e.add.text(t,n,o[key].name,i);if(null!=o[key].profile){var a=o[key].profile,s="profileImage"+o[key].name;(0,l.default)(e,{x:t-100,y:n-30},{width:60,height:78},s,a)}}}]),t}(Phaser.State);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=s.serverInfo.socket,n={font:"bold 32px Arial",fill:"#333"};e.add.text(.5*e.width,20,"What do you think this drawing represents?",n).anchor.setTo(.5,0);var r=.5*e.height/1.3,o=.5*e.width,i=Math.min(r,o),a="finalImage"+s.serverInfo.drawing.name,u=s.serverInfo.drawing.dataURI;(0,l.default)(e,{x:.5*e.width,y:.5*e.height},{width:i,height:1.3*i},a,u),this.timerText=e.add.text(.5*e.width,60,"",n),this.timer=s.serverInfo.timer,t.on("return-guesses",function(e){s.serverInfo.guesses=e}),t.on("next-state",function(t){s.serverInfo.timer=t.timer,e.state.start("GameGuessingPick")}),console.log("Game Guessing state")}},{key:"update",value:function(){this.timer>0?(this.timer-=this.game.time.elapsed/1e3,this.timerText.text=Math.ceil(this.timer)):this.timerText.text="Time's up!"}}]),t}(Phaser.State);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=(s.serverInfo.socket,{font:"bold 32px Arial",fill:"#333"});e.add.text(.5*e.width,20,"Hmm, which one is the correct title?",t).anchor.setTo(.5,0);var n=.5*e.height/1.3,r=.5*e.width,o=Math.min(n,r),i="finalImage"+s.serverInfo.drawing.name,a=s.serverInfo.drawing.dataURI;(0,l.default)(e,{x:.5*e.width,y:.5*e.height},{width:o,height:1.3*o},i,a);for(var u=s.serverInfo.guesses,c=0;c<u.length;c++){var f=c/u.length*2*Math.PI;e.add.text(.5*e.width+Math.cos(f)*o,.5*e.height+Math.sin(f)*o*1.3,u[c].guess,t).anchor.setTo(.5,.5)}this.timerText=e.add.text(.5*e.width,60,"",t),this.timer=s.serverInfo.timer,console.log("Game Guessing Pick state")}},{key:"update",value:function(){this.timer>0?(this.timer-=this.game.time.elapsed/1e3,this.timerText.text=Math.ceil(this.timer)):this.timerText.text="Time's up!"}}]),t}(Phaser.State);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=(s.serverInfo.socket,{font:"bold 32px Arial",fill:"#333"});e.add.text(.5*e.width,20,"Let's see how you did!",t).anchor.setTo(.5,0),console.log("Game Guessing Results state")}},{key:"update",value:function(){}}]),t}(Phaser.State);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=(s.serverInfo.socket,{font:"bold 32px Arial",fill:"#333"});e.add.text(.5*e.width,20,"FINAL RESULTS",t).anchor.setTo(.5,0),console.log("Game Over state")}},{key:"update",value:function(){}}]),t}(Phaser.State);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=s.serverInfo.socket,n=document.getElementById("main-controller"),r=document.createElement("p");r.innerHTML="Draw yourself a profile pic!",n.appendChild(r);var o=document.getElementById("canvas-container");n.appendChild(o);var i=document.getElementById("main-controller").clientWidth;console.log(i);var a=1.3*i;e.scale.setGameSize(i,a),this.bmd=e.add.bitmapData(e.width,e.height),this.bmd.ctx.strokeStyle="rgb( 77, 77, 77)",this.bmd.ctx.lineWidth=10,this.bmd.ctx.lineCap="round",this.bmd.ctx.fillStyle="#ff0000",this.sprite=e.add.sprite(0,0,this.bmd),this.bmd.isDragging=!1,this.bmd.lastPoint=null;var u=this.bmd,l=document.createElement("button");if(l.innerHTML="Submit drawing",l.addEventListener("click",function(e){var n=u.canvas.toDataURL();t.emit("submit-drawing",{dataURI:n,type:"profile"}),l.remove(),o.style.display="none",s.serverInfo.vip||(r.innerHTML="Waiting for game to start ...")}),n.appendChild(l),s.serverInfo.vip){var c=document.createElement("p");c.innerHTML="You are VIP. Start the game when you're ready.",n.appendChild(c);var f=document.createElement("button");f.innerHTML="START GAME",f.addEventListener("click",function(e){f.disabled||(f.disabled=!0,t.emit("start-game",{roomCode:s.serverInfo.roomCode}))}),n.appendChild(f)}t.on("next-state",function(t){s.serverInfo.timer=t.timer,document.body.appendChild(o),n.innerHTML="",e.state.start("ControllerSuggestions")}),console.log("Controller Waiting state")}},{key:"update",value:function(){if(this.game.input.activePointer.isUp&&(this.bmd.isDragging=!1,this.bmd.lastPoint=null),this.game.input.activePointer.isDown){console.log("down"),this.bmd.isDragging=!0,this.bmd.ctx.beginPath();var e=new Phaser.Point(this.game.input.x,this.game.input.y);this.bmd.lastPoint&&(this.bmd.ctx.moveTo(this.bmd.lastPoint.x,this.bmd.lastPoint.y),this.bmd.ctx.lineTo(e.x,e.y)),this.bmd.lastPoint=e,this.bmd.ctx.stroke(),this.bmd.dirty=!0}}}]),t}(Phaser.State);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=s.serverInfo.socket,n=document.getElementById("main-controller"),r=document.createElement("p");r.innerHTML="Please give me a noun, verb, adjective and adverb (in that order)",n.appendChild(r);var o=document.createElement("input");o.type="text",o.placeholder="noun (e.g. elephant)",n.appendChild(o);var i=document.createElement("input");i.type="text",i.placeholder="verb with -ing (e.g. swimming)",n.appendChild(i);var a=document.createElement("input");a.type="text",a.placeholder="adjective (e.g. beautiful)",n.appendChild(a);var u=document.createElement("input");u.type="text",u.placeholder="adverb (e.g. carefully)",n.appendChild(u);var l=document.createElement("button");l.innerHTML="Submit",l.addEventListener("click",function(e){for(var n=[o.value,i.value,a.value,u.value],s=0;s<n.length;s++)if(""==n[s]||n[s].length<1)return;t.emit("submit-suggestion",{suggestion:n}),o.remove(),i.remove(),a.remove(),u.remove(),l.remove(),r.innerHTML="Thanks for your suggestions!"}),n.appendChild(l),this.timer=s.serverInfo.timer,t.on("drawing-title",function(e){s.serverInfo.drawingTitle=e.title}),t.on("next-state",function(t){s.serverInfo.timer=t.timer,n.innerHTML="",e.state.start("Controller"+t.nextState)}),console.log("Controller Suggestions state")}},{key:"update",value:function(){if(s.serverInfo.vip)if(this.timer>0)this.timer-=this.game.time.elapsed/1e3;else{var e=s.serverInfo.socket;e.emit("timer-complete",{nextState:"Drawing"})}}}]),t}(Phaser.State);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=s.serverInfo.socket,n=document.getElementById("main-controller"),r=!1,o=document.createElement("p");o.innerHTML='Draw this: <span class="titleSuggestion">'+s.serverInfo.drawingTitle+"</span>",n.appendChild(o);var i=document.getElementById("canvas-container");i.style.display="block",n.appendChild(i);var a=document.getElementById("main-controller").clientWidth,u=1.3*a;e.scale.setGameSize(a,u),this.bmd=e.add.bitmapData(e.width,e.height),this.bmd.ctx.strokeStyle="rgb( 77, 77, 77)",this.bmd.ctx.lineWidth=10,this.bmd.ctx.lineCap="round",this.bmd.ctx.fillStyle="#ff0000",this.sprite=e.add.sprite(0,0,this.bmd),this.bmd.isDragging=!1,this.bmd.lastPoint=null;var l=this.bmd,c=document.createElement("button");c.innerHTML="Submit drawing",c.addEventListener("click",function(e){var n=l.canvas.toDataURL();t.emit("submit-drawing",{dataURI:n,type:"ingame"}),c.remove(),i.style.display="none",o.innerHTML="That drawing is ... let's say, something special.",r=!0}),n.appendChild(c),t.on("fetch-drawing",function(e){if(!r){var n=l.canvas.toDataURL();t.emit("submit-drawing",{dataURI:n,type:"ingame"})}}),this.timer=s.serverInfo.timer,t.on("return-drawing",function(e){s.serverInfo.drawing=e}),t.on("next-state",function(t){s.serverInfo.timer=t.timer,i.style.display="none",document.body.appendChild(i),document.getElementById("main-controller").innerHTML="",e.state.start("ControllerGuessing")}),console.log("Controller Drawing state")}},{key:"update",value:function(){if(this.game.input.activePointer.isUp&&(this.bmd.isDragging=!1,this.bmd.lastPoint=null),this.game.input.activePointer.isDown){console.log("down"),this.bmd.isDragging=!0,this.bmd.ctx.beginPath();var e=new Phaser.Point(this.game.input.x,this.game.input.y);this.bmd.lastPoint&&(this.bmd.ctx.moveTo(this.bmd.lastPoint.x,this.bmd.lastPoint.y),this.bmd.ctx.lineTo(e.x,e.y)),this.bmd.lastPoint=e,this.bmd.ctx.stroke(),this.bmd.dirty=!0}if(s.serverInfo.vip)if(this.timer>0)this.timer-=this.game.time.elapsed/1e3;else{var t=s.serverInfo.socket;t.emit("timer-complete",{nextState:"Guessing"})}}}]),t}(Phaser.State);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=s.serverInfo.socket,n=document.getElementById("main-controller");if(s.serverInfo.drawing.id==t.id){var r=document.createElement("p");r.innerHTML="This is your drawing. I hope you're happy with yourself.",n.appendChild(r)}else{var o=document.createElement("p");o.innerHTML="What do you think this drawing means?",n.appendChild(o);var i=document.createElement("input");i.type="text",i.placeholder="your guess ...",n.appendChild(i);var a=document.createElement("button");a.innerHTML="Submit guess",a.addEventListener("click",function(e){t.emit("submit-guess",{guess:i.value}),a.remove(),i.remove(),o.innerHTML="Wow ... you're so creative!"}),n.appendChild(a)}this.timer=s.serverInfo.timer,t.on("return-guesses",function(e){s.serverInfo.guesses=e}),t.on("next-state",function(t){s.serverInfo.timer=t.timer,document.getElementById("main-controller").innerHTML="",e.state.start("ControllerGuessingPick")}),console.log("Controller Guessing state")}},{key:"update",value:function(){if(s.serverInfo.vip)if(this.timer>0)this.timer-=this.game.time.elapsed/1e3;else{var e=s.serverInfo.socket;e.emit("timer-complete",{nextState:"GuessingPick"})}}}]),t}(Phaser.State);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=(this.game,s.serverInfo.socket),t=document.getElementById("main-controller"),n=s.serverInfo.guesses;if(s.serverInfo.drawing.id==e.id){var r=document.createElement("p");r.innerHTML="Still your drawing. Sit back and relax.",t.appendChild(r)}else!function(){var r=[],o=document.createElement("p");o.innerHTML="Which of these do you think is the correct title?",t.appendChild(o);for(var i=0;i<n.length;i++)!function(i){var a=document.createElement("button");a.innerHTML=n.guess[i],a.value=n.guess[i],a.addEventListener("click",function(t){e.emit("vote-guess",{guess:this.value});for(var n=0;n<r.length;n++)r[i].remove();o.innerHTML="Really? You think it's that?!"}),t.appendChild(a),r.push(a)}(i)}();this.timer=s.serverInfo.timer,console.log("Controller Guessing Pick state")}},{key:"update",value:function(){if(s.serverInfo.vip)if(this.timer>0)this.timer-=this.game.time.elapsed/1e3;else{var e=s.serverInfo.socket;e.emit("timer-complete",{nextState:"GuessingResults"})}}}]),t}(Phaser.State);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this.game,t=s.serverInfo.socket,n=document.getElementById("main-controller");if(s.serverInfo.vip){var r=document.createElement("p");r.innerHTML="Tap the button below whenever you want to start the next drawing",n.appendChild(r);var o=document.createElement("button");o.innerHTML="Load next drawing!",o.addEventListener("click",function(e){t.emit("timer-complete",{nextState:"Guessing",certain:!0})}),n.appendChild(o)}t.on("return-drawing",function(e){s.serverInfo.drawing=e}),t.on("next-state",function(t){s.serverInfo.timer=t.timer,canvas.style.display="none",document.body.appendChild(canvas),document.getElementById("main-controller").innerHTML="",e.state.start("ControllerGuessing")}),console.log("Controller Guessing Results state")}},{key:"update",value:function(){}}]),t}(Phaser.State);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"preload",value:function(){}},{key:"create",value:function(){this.game,s.serverInfo.socket;console.log("Controller Over state")}},{key:"update",value:function(){}}]),t}(Phaser.State);t.default=u}]);